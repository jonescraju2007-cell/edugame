<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>EduGame Worlds</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header>
    <h1>üåç EduGame Worlds</h1>
    <nav>
      <button onclick="toggleTheme()">üåô Toggle Theme</button>
    </nav>
  </header>

  <main id="world-list">
    <p>Loading worlds...</p>
  </main>

  <script>
    // Available worlds (add more JSON files here as you create them)
    const WORLDS = ["world1.json", "world2.json", "world3.json"];

    async function loadWorlds() {
      const container = document.getElementById("world-list");
      container.innerHTML = "";

      for (let file of WORLDS) {
        try {
          const res = await fetch(`./worlds/${file}`);
          const data = await res.json();

          const card = document.createElement("div");
          card.classList.add("card");

          card.innerHTML = `
            <h2>${data.meta.title}</h2>
            <p>${data.meta.intro}</p>
            <button onclick="startLesson('${file}')">üìñ Lesson</button>
            <button onclick="startQuiz('${file}')">üìù Quiz</button>
          `;

          container.appendChild(card);
        } catch (err) {
          console.error("Error loading world", file, err);
        }
      }
    }

    function startLesson(worldFile) {
      localStorage.setItem("currentWorld", worldFile);
      window.location.href = "lesson.html";
    }

    function startQuiz(worldFile) {
      localStorage.setItem("currentWorld", worldFile);
      window.location.href = "quiz.html";
    }

    function toggleTheme() {
      document.body.classList.toggle("dark");
    }

    loadWorlds();
  </script>
</body>
</html>

